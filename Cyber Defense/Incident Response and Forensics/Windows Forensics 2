-Identify Locations and artifacts to prove evidence of execution
-File/folder usage or knowledge
-External device usage
-Basics of recovering deleted files

--------------------------------------------------------------------------------------------------------------------

The FAT file systems
-storage device in computer system (hard disk or USB)
-FAT (File Allocation Table)
-default file system for Microsoft OS 
-no longer default
-indexes location of bits that are allocated to different files

Clusters: basic storage unit of FAT file system
Directory: information about file identification, name, starting cluster and filename length
FAT: linked list of all clusters, contains status of cluster and pointer to the next cluster in the chain

FAT12: 12-bit cluster addressing max of 4096 clusters (2^12)
FAT16: 16-bit cluster addressing max of 65,536 clusters (2^16)
FAT32: 32-bit cluster addressing max of 268,435,456 clusters (2^28) - windows limits formatting to only 32 GB - 28 addressible bits
-max file supported by FAT32: 4GB

exFAT file system: default for SD cards larger than 32GB
-reduces overhead of FAT file system, lighter and more efficient

-------------------------------------------------------------------------------------------------------------------------------

NTFS file system
-New Technology File System
-adds security, reliability and recovery

Journaling: NTFS keeps a log of changes to metadata in the volume, help system recovery from a crash or degragmentation
-$LOGFILE

Access Controls: gives access to defined owner of a file/directory and permissions for each user
Volume Shadow Copy: restore previous file versions for recovery or system restore to recover data loss
Alternate Data Streams: ADS - allow multiple streams of data stored in a single file

Master File Table:
-structured database that tracks the objects stored in a volume
-$MFT: first record in volume, Volumen Boot Record (VBR)
-$LOGFILE: logging
-$UsnJrnl: update sequence number (USN) - info about file that were changed and reason for change

MFT explorer
-EZTools: CLI
MFTECmd.exe - parses data from different files created by the NTFS file system like $MFT, $Boot, etc
MFTECmd.exe -f <path-to-$MFT-file> --csv <path-to-save-results-in-csv>
-open in ezviewer and find file size
MFTECmd.exe -f <path-to-$BOOT-file> --csv <path-to-save-results-in-csv>
-open in ezviewer and find cluster size

-------------------------------------------------------------------------------------------------------------------------------------

Recovering deleted Files
-When a file is deleted from the file system, the file system deletes the entries that store the file's location on the disk
-The location where the file existed is now available for writing or unallocated
-The file contents on disk are still present as long as they are not overwritten

Disk Image
-file that contains a bit-by-bit copy of a disk drive
-a bit by bit copy saves all the data in a disk image file including metadata, in a single file
-original evidence is not contaminated
-disk image file can be copied to another disk and analyzed without using specialized hardware

Autopsy
-Autopsy used to recover deleted files
Autopsy > new case > enter directory and additional information, data type etc

-usb.001


There is another xlsx file that was deleted. What is the full name of that file?
tryhackme.xlsx

Name of the txt file that was deleted from the disk?
tryhackme2.txt

Recover the txt file from Question #2.
THM-4n6-2-4


